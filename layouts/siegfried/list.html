{{ partial "header" . }}
<div class="content pure-g">
<div class="pure-u-1 pure-u-md-2-3 pure u-lg-2-3">
{{ .Content }}
</div>
<div class="pure-u-1 pure-u-md-1-3 pure-u-lg-1-3">
<h1>Widgets</h1>
<h2>Try Siegfried</h2>
<div id="upload">
  <p><img class="upload" src="img/siegfried.png" alt="Richard's portrait"></p>
  <p>Drag a file on to Siegfried's anvil!</p>
</div>
<hr>
<h2>Chart your results</h2>
<div id="chart">
<form>
    <input type="text" placeholder="Name of this result set">
    <button type="button" onclick="add()">add</button>
    <input type="submit" value="submit">
</form>
</div>
<hr>
<h2>Sets Tool</h2>
<p><a href="https://github.com/richardlehane/siegfried/wiki/Building-a-signature-file-with-ROY#format-sets-optional-step">Format sets</a> allow you to select groups of formats when using the sf and roy tools: e.g. `roy build -limit @pdf`. They can be useful in other contexts. You might, for example, want to isolate all the formats for which <a href="https://tika.apache.org/">Apache Tika</a> can extract text. This widget allows you to generate these sets online as text or as code snippets.</p>
<p><strong>Note:</strong> This tool uses the format sets packaged with siegfried. To improve coverage, <a href="https://github.com/richardlehane/siegfried/wiki/Cool-tasks#format-sets">contribute sets</a> to siegfried.</p>
<p>1. Select one or more PUIDs (e.g. fmt/111) or sets (prefixed with the '@' symbol, e.g. @pdf or @83).</p>
<!-- hidden element for cloning -->
<div id="addlist" style="display: none">
  <fieldset class="form-group" >
    <input id="addset" type="text" name="set" list="sets" placeholder="Enter puid or @set">
    <datalist id="sets">{{ range $.Site.Data.siegfried.Keys }}<option value="@{{.}}">@{{ . }}</option>{{ end }}</datalist>&nbsp;
    <button type="button" onclick="add()">add</button>&nbsp;
    <button type="button" onclick="del(this)">del</button>
  </fieldset>
  </div>
<form id="sets-form">
  <div>
  <fieldset class="form-group" >
    <input id="addset" type="text" name="set" list="sets" placeholder="Enter puid or @set">
    <datalist id="sets">{{ range $.Site.Data.siegfried.Keys }}<option value="@{{.}}">@{{ . }}</option>{{ end }}</datalist>&nbsp;
    <button type="button" onclick="add()">add</button>
  </fieldset>
  </div>
  <p>
  <fieldset class="form-group" >
    <input type="submit" value="submit" class="form-control">
  </fieldset >
  </p>
</form>
<p>2. Choose your output format: plain text or a code snippet with a function that matches an input PUID against a set.</p>
<div>
<p>
  <select onchange="changeMode(this)" class="form-control">
    <option value="text">text</option>
    <option value="text-nl">text (new lines)</option>
    <option value="golang">golang</option>
    <option value="python">python</option>
  </select>
</p>
<textarea id="results" rows="10" cols="40"></textarea>
<button onclick="cp()">Copy to clipboard</button>
</div>
</div>
</div>
<script src="js/jquery-3.2.1.min.js"></script>
<script src="js/dropzone.js"></script>
<script src="js/sets.js"></script>
<script src="js/siegfried.js"></script>
{{ partial "footer" . }}
