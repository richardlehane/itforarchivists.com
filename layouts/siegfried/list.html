{{ partial "header" . }}
<div class="content pure-g">
<div class="pure-u-1 pure-u-md-2-3 pure u-lg-2-3 l-box">
{{ .Content }}
</div>
<div class="pure-u-1 pure-u-md-1-3 pure-u-lg-1-3 l-box">
<h2>Try siegfried</h2>
<div id="upload">
  <p><img class="upload" src="img/siegfried.png" alt="Richard's portrait"></p>
  <p>Drag a file on to Siegfried's anvil!</p>
</div>
<hr>
<h2>Chart your results</h2>
<p>Upload a siegfried, droid or fido results file for analysis and sharing.</p>
<div id="chart">
 <form action="/siegfried/results" method="post" enctype="multipart/form-data" class="pure-form">
  <input type="file" name="file">
  <input type="submit" value="submit" class="pure-button pure-button-primary">
</form> 
</div>
<hr>
<h2>Sets tool</h2>
<p><a href="https://github.com/richardlehane/siegfried/wiki/Building-a-signature-file-with-ROY#format-sets-optional-step">Format sets</a> enable grouping of formats by the sf and roy tools: e.g. <code>roy build -limit @pdf</code>. They can be useful elswhere, e.g. to isolate the formats <a href="https://tika.apache.org/">Apache Tika</a> can extract text from. This widget converts format sets to plain text or code snippets.</p>
<p>1. <strong>Select one or more PUIDs or sets</strong> (e.g. fmt/123 or @pdf). Sets are prefixed with the '@' symbol.</p>
<!-- hidden element for cloning -->
<div id="addlist" style="display: none;">
  <fieldset>
    <input id="addset" type="text" name="set" list="sets" placeholder="Enter puid or @set" size="15">
    <datalist id="sets">{{ range $.Site.Data.siegfried.Keys }}<option value="@{{.}}">@{{ . }}</option>{{ end }}</datalist>&nbsp;
    <button type="button" onclick="add()" class="pure-button">add</button>&nbsp;
    <button type="button" onclick="del(this)" class="pure-button">del</button>
  </fieldset>
  </div>
<form id="sets-form" class="pure-form">
  <div>
  <fieldset>
    <input id="addset" type="text" name="set" list="sets" placeholder="PUID or @set" size="15">
    <datalist id="sets">{{ range $.Site.Data.siegfried.Keys }}<option value="@{{.}}">@{{ . }}</option>{{ end }}</datalist>&nbsp;
    <button type="button" onclick="add()" class="pure-button">add</button>
  </fieldset>
  </div>
  <fieldset>
    <input type="submit" value="submit" class="pure-button pure-button-primary">
  </fieldset >
</form>
<p>2. <strong>Choose your output format</strong> (plain text or a code snippet with a function that matches an input PUID against a set.)</p>
<div>
<p>
  <select onchange="changeMode(this)">
    <option value="text">text</option>
    <option value="text-nl">text (new lines)</option>
    <option value="golang">golang</option>
    <option value="python">python</option>
  </select>
</p>
<textarea id="results" rows="10" cols="35"></textarea>
<button onclick="cp()" class="pure-button">Copy to clipboard</button>
</div>
</div>
</div>
<script src="js/jquery-3.2.1.min.js"></script>
<script src="js/dropzone.js"></script>
<script src="js/sets.js"></script>
<script src="js/siegfried.js"></script>
{{ partial "footer" . }}
